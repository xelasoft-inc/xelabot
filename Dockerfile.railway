FROM vexaai/vexa-lite:latest

# Fix pydantic v1/v2 conflict: shared_models requires v2 features
RUN pip3 install --no-cache-dir --upgrade "pydantic>=2.0.0" "pydantic[email]"

# Keep original entrypoint and command
ENTRYPOINT ["/entrypoint.sh"]
CMD ["supervisord", "-n", "-c", "/etc/supervisor/conf.d/vexa.conf"]
